<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Manager</title>
</head>
<body>
    <h1>Personal Inventory Manager</h1>

    <!-- Get item form -->
    <h2>Get Inventory Item</h2>
    <form id="getForm">
        <label for="getID">Item ID:</label>
        <input type="text" id="getID" name="getID" required>
        <button type="button" onclick="getItem()">Get Item</button>
    </form>
    <div id="getResult"></div>

    <!-- Put item form -->
    <h2>Update Inventory Item</h2>
    <form id="putForm">
        <label for="putID">Item ID:</label>
        <input type="text" id="putID" name="putID" required>
        <label for="putQuantity">Quantity:</label>
        <input type="number" id="putQuantity" name="putQuantity" required>
        <button type="button" onclick="updateItem()">Update Item</button>
    </form>
    <div id="putResult"></div>

    <script>
            const getApiUrl = "https://mhc2vkfs17.execute-api.us-east-1.amazonaws.com/Prod/get";
      const putApiUrl = "https://mhc2vkfs17.execute-api.us-east-1.amazonaws.com/Prod/put";

      async function getItem() {
          const id = document.getElementById("getID").value;
          try {
              const response = await fetch(`${getApiUrl}?ID=${id}`);
              const result = await response.json();
              document.getElementById("getResult").innerText = JSON.stringify(result, null, 2);
          } catch (error) {
              console.error("Error fetching item:", error);
              document.getElementById("getResult").innerText = "Error fetching item.";
          }
      }

      async function updateItem() {
          const id = document.getElementById("putID").value;
          const quantity = parseInt(document.getElementById("putQuantity").value);
          try {
              const response = await fetch(putApiUrl, {
                  method: "PUT",
                  headers: {
                      "Content-Type": "application/json"
                  },
                  body: JSON.stringify({ ID: id, quantity })
              });
              const result = await response.json();
              document.getElementById("putResult").innerText = JSON.stringify(result, null, 2);
          } catch (error) {
              console.error("Error updating item:", error);
              document.getElementById("putResult").innerText = "Error updating item.";
          }
      }

    </script>
</body>
</html>
